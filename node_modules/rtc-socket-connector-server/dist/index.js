"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addRTCConnectionHandlers = void 0;
function addRTCConnectionHandlers(socketServer, option) {
    const log = option.debug ? console.log : function () { };
    socketServer.on("connection", (socket) => {
        socket.on('offer', arg => {
            // @ts-expect-error
            socket.emit("hi");
            socketServer.to(arg.answerSocketId).emit('offer', arg);
            log("offer :::" + JSON.stringify(arg));
        });
        socket.on('answer', arg => {
            log("answer :::" + JSON.stringify(arg));
            socketServer.to(arg.offerSocketId).emit('answer', arg);
        });
        socket.on('candidate', arg => {
            log("candidate ::: " + JSON.stringify(arg));
            socketServer.to(arg.destSocketId).emit('candidate', arg);
        });
    });
}
exports.addRTCConnectionHandlers = addRTCConnectionHandlers;
